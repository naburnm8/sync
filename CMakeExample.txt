cmake_minimum_required(VERSION 3.10)

project(lib_ftp CXX)

set(CMAKE_CXX_STANDARD 17)
set(CMAKE_CXX_STANDARD_REQUIRED ON)

set(CURL_ROOT "C:/libs/curl82")

add_library(curl SHARED IMPORTED)
set_target_properties(curl PROPERTIES
    IMPORTED_LOCATION "${CURL_ROOT}/bin/libcurl-x64.dll"
    IMPORTED_IMPLIB "${CURL_ROOT}/lib/libcurl.dll.a"
    INTERFACE_INCLUDE_DIRECTORIES "${CURL_ROOT}/include"
)

add_library(
    ftp_config STATIC
    src/ftp_config.cpp
    src/ini.h
)

target_include_directories(ftp_config PUBLIC include src)



add_library(lib_ftp STATIC src/lib_ftp.cpp)
target_include_directories(lib_ftp PUBLIC include "${CURL_ROOT}/include")
target_link_directories(lib_ftp PRIVATE curl ftp_config)

add_executable(ftp_test test/main.cpp)
target_link_libraries(ftp_test PRIVATE lib_ftp ftp_config curl)